<?php

/*
|--------------------------------------------------------------------------
| Scout Configuration for Constructor.io
|--------------------------------------------------------------------------
|
| This file contains the Laravel Scout configuration for the Constructor.io
| search driver. Add or merge this configuration with your existing
| config/scout.php file.
|
*/

return [
    /*
    |--------------------------------------------------------------------------
    | Default Search Engine
    |--------------------------------------------------------------------------
    |
    | Set the default search driver to use Constructor.io.
    |
    */

    'driver' => env('SCOUT_DRIVER', 'constructor'),

    /*
    |--------------------------------------------------------------------------
    | Constructor.io Configuration
    |--------------------------------------------------------------------------
    |
    | These settings are used by the ConstructorEngine for Laravel Scout
    | integration. This allows Eloquent models to be indexed and searched
    | via Constructor.io.
    |
    */

    'constructor' => [
        // Public API key (required for all operations)
        'api_key' => env('CONSTRUCTOR_API_KEY'),

        // Secret API token (required for write operations)
        'api_token' => env('CONSTRUCTOR_API_TOKEN'),

        // Base URL for Constructor.io API
        'base_url' => env('CONSTRUCTOR_SEARCH_BASE_URL', 'https://ac.cnstrc.com'),

        // Client identifier sent with requests
        'client_id' => env('CONSTRUCTOR_CLIENT_ID', 'cio-laravel-1.0'),

        // Force indexing even if item exists
        'force' => env('CONSTRUCTOR_FORCE', false),

        // Email to notify on catalog operations
        'notification_email' => env('CONSTRUCTOR_NOTIFICATION_EMAIL'),
    ],

    /*
    |--------------------------------------------------------------------------
    | Index Prefix
    |--------------------------------------------------------------------------
    |
    | This value will be prefixed to all search index names. Useful for
    | separating development and production environments.
    |
    */

    'prefix' => env('SCOUT_PREFIX', ''),

    /*
    |--------------------------------------------------------------------------
    | Queue Data Syncing
    |--------------------------------------------------------------------------
    |
    | When enabled, all indexing operations will be queued. This is
    | recommended for production to avoid blocking HTTP requests.
    |
    */

    'queue' => env('SCOUT_QUEUE', false),

    /*
    |--------------------------------------------------------------------------
    | Chunk Sizes
    |--------------------------------------------------------------------------
    |
    | These values control the chunk sizes used when indexing models.
    | Constructor.io handles batching internally, but these affect how
    | many models are processed per job.
    |
    */

    'chunk' => [
        'searchable' => 500,
        'unsearchable' => 500,
    ],

    /*
    |--------------------------------------------------------------------------
    | Soft Deletes
    |--------------------------------------------------------------------------
    |
    | This option allows you to control whether soft deleted models are
    | included in the search index.
    |
    */

    'soft_delete' => false,

    /*
    |--------------------------------------------------------------------------
    | Identify User
    |--------------------------------------------------------------------------
    |
    | Determines if the user_id should be included in search requests for
    | personalization purposes.
    |
    */

    'identify' => env('SCOUT_IDENTIFY', false),
];
